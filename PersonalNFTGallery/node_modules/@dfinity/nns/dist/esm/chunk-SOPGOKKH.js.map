{
  "version": 3,
  "sources": ["../../candid/genesis_token.idl.js", "../../src/genesis_token.ts"],
  "sourcesContent": ["/* Do not edit.  Compiled with ./scripts/compile-idl-js from candid/genesis_token.did */\nexport const idlFactory = ({ IDL }) => {\n  const NeuronId = IDL.Record({ 'id' : IDL.Nat64 });\n  const Result = IDL.Variant({ 'Ok' : IDL.Vec(NeuronId), 'Err' : IDL.Text });\n  const Result_1 = IDL.Variant({ 'Ok' : IDL.Null, 'Err' : IDL.Text });\n  const TransferredNeuron = IDL.Record({\n    'error' : IDL.Opt(IDL.Text),\n    'timestamp_seconds' : IDL.Nat64,\n    'neuron_id' : IDL.Opt(NeuronId),\n  });\n  const AccountState = IDL.Record({\n    'authenticated_principal_id' : IDL.Opt(IDL.Principal),\n    'successfully_transferred_neurons' : IDL.Vec(TransferredNeuron),\n    'is_whitelisted_for_forwarding' : IDL.Bool,\n    'has_donated' : IDL.Bool,\n    'failed_transferred_neurons' : IDL.Vec(TransferredNeuron),\n    'neuron_ids' : IDL.Vec(NeuronId),\n    'has_claimed' : IDL.Bool,\n    'has_forwarded' : IDL.Bool,\n    'icpts' : IDL.Nat32,\n  });\n  const Result_2 = IDL.Variant({ 'Ok' : AccountState, 'Err' : IDL.Text });\n  return IDL.Service({\n    'balance' : IDL.Func([IDL.Text], [IDL.Nat32], ['query']),\n    'claim_neurons' : IDL.Func([IDL.Text], [Result], []),\n    'donate_account' : IDL.Func([IDL.Text], [Result_1], []),\n    'forward_whitelisted_unclaimed_accounts' : IDL.Func(\n        [IDL.Null],\n        [Result_1],\n        [],\n      ),\n    'get_account' : IDL.Func([IDL.Text], [Result_2], ['query']),\n    'len' : IDL.Func([], [IDL.Nat16], ['query']),\n    'total' : IDL.Func([], [IDL.Nat32], ['query']),\n  });\n};\nexport const init = ({ IDL }) => { return []; };\n", "import { Actor, Agent } from \"@dfinity/agent\";\nimport { Principal } from \"@dfinity/principal\";\nimport { GenesisTokenService, idlFactory } from \"../candid/genesis_token.idl\";\nimport { MAINNET_GENESIS_TOKEN_CANISTER_ID } from \"./constants/canister_ids\";\nimport { NeuronId } from \"./types/common\";\nimport { defaultAgent } from \"./utils/agent.utils\";\n\n// HttpAgent options that can be used at construction.\nexport interface GenesisTokenCanisterOptions {\n  // The agent to use when communicating with the canister.\n  agent?: Agent;\n  // The canister's ID.\n  canisterId?: Principal;\n  // The default service to use when calling into the IC. Primarily overridden\n  // in test for mocking.\n  serviceOverride?: GenesisTokenService;\n}\n\nexport class GenesisTokenCanister {\n  private constructor(private readonly service: GenesisTokenService) {}\n\n  public static create(options: GenesisTokenCanisterOptions = {}) {\n    const agent = options.agent ?? defaultAgent();\n    const canisterId = options.canisterId ?? MAINNET_GENESIS_TOKEN_CANISTER_ID;\n    const service =\n      options.serviceOverride ??\n      Actor.createActor<GenesisTokenService>(idlFactory, {\n        agent,\n        canisterId,\n      });\n\n    return new GenesisTokenCanister(service);\n  }\n\n  public claimNeurons = async ({\n    hexPubKey,\n  }: {\n    hexPubKey: string;\n  }): Promise<NeuronId[]> => {\n    const response = await this.service.claim_neurons(hexPubKey);\n    if (\"Ok\" in response) {\n      return response.Ok.map((neuronId) => neuronId.id);\n    }\n\n    throw new Error(response.Err);\n  };\n}\n"],
  "mappings": "sDACO,GAAM,GAAa,CAAC,CAAE,SAAU,CACrC,GAAM,GAAW,EAAI,OAAO,CAAE,GAAO,EAAI,KAAM,CAAC,EAC1C,EAAS,EAAI,QAAQ,CAAE,GAAO,EAAI,IAAI,CAAQ,EAAG,IAAQ,EAAI,IAAK,CAAC,EACnE,EAAW,EAAI,QAAQ,CAAE,GAAO,EAAI,KAAM,IAAQ,EAAI,IAAK,CAAC,EAC5D,EAAoB,EAAI,OAAO,CACnC,MAAU,EAAI,IAAI,EAAI,IAAI,EAC1B,kBAAsB,EAAI,MAC1B,UAAc,EAAI,IAAI,CAAQ,CAChC,CAAC,EACK,EAAe,EAAI,OAAO,CAC9B,2BAA+B,EAAI,IAAI,EAAI,SAAS,EACpD,iCAAqC,EAAI,IAAI,CAAiB,EAC9D,8BAAkC,EAAI,KACtC,YAAgB,EAAI,KACpB,2BAA+B,EAAI,IAAI,CAAiB,EACxD,WAAe,EAAI,IAAI,CAAQ,EAC/B,YAAgB,EAAI,KACpB,cAAkB,EAAI,KACtB,MAAU,EAAI,KAChB,CAAC,EACK,EAAW,EAAI,QAAQ,CAAE,GAAO,EAAc,IAAQ,EAAI,IAAK,CAAC,EACtE,MAAO,GAAI,QAAQ,CACjB,QAAY,EAAI,KAAK,CAAC,EAAI,IAAI,EAAG,CAAC,EAAI,KAAK,EAAG,CAAC,OAAO,CAAC,EACvD,cAAkB,EAAI,KAAK,CAAC,EAAI,IAAI,EAAG,CAAC,CAAM,EAAG,CAAC,CAAC,EACnD,eAAmB,EAAI,KAAK,CAAC,EAAI,IAAI,EAAG,CAAC,CAAQ,EAAG,CAAC,CAAC,EACtD,uCAA2C,EAAI,KAC3C,CAAC,EAAI,IAAI,EACT,CAAC,CAAQ,EACT,CAAC,CACH,EACF,YAAgB,EAAI,KAAK,CAAC,EAAI,IAAI,EAAG,CAAC,CAAQ,EAAG,CAAC,OAAO,CAAC,EAC1D,IAAQ,EAAI,KAAK,CAAC,EAAG,CAAC,EAAI,KAAK,EAAG,CAAC,OAAO,CAAC,EAC3C,MAAU,EAAI,KAAK,CAAC,EAAG,CAAC,EAAI,KAAK,EAAG,CAAC,OAAO,CAAC,CAC/C,CAAC,CACH,ECjBO,WAA2B,CACxB,YAA6B,EAA8B,CAA9B,cAA+B,OAEtD,QAAO,EAAuC,CAAC,EAAG,CAC9D,GAAM,GAAQ,EAAQ,OAAS,EAAa,EACtC,EAAa,EAAQ,YAAc,EACnC,EACJ,EAAQ,iBACR,EAAM,YAAiC,EAAY,CACjD,QACA,YACF,CAAC,EAEH,MAAO,IAAI,GAAqB,CAAO,CACzC,CAEO,aAAe,MAAO,CAC3B,eAGyB,CACzB,GAAM,GAAW,KAAM,MAAK,QAAQ,cAAc,CAAS,EAC3D,GAAI,MAAQ,GACV,MAAO,GAAS,GAAG,IAAI,AAAC,GAAa,EAAS,EAAE,EAGlD,KAAM,IAAI,OAAM,EAAS,GAAG,CAC9B,CACF",
  "names": []
}
